


<div class="skills flexcol">
   
    <div class="flexrow">
        <input type="text"  placeholder="Filter" value="{{data.skillFilter}}" name="data.skillFilter">
        <a class="item-create button" data-type="skill" title="Add new skill">New Skill</a>
    </div>

    <div class="skills-header grid grid-7col">
        <span class="skillItem">Skill</span>
        <span class="skillItem">Characteristic</span>
        <span class="skillItem">Rank</span>
        <span class="skillItem">Temporary</span>
        <span class="skillItem">Total</span>
        <span class="skillItem">Edit</span>
        <span class="skillItem">Del.</span>
    </div>

    {{#each actor.skills as |skill key|}}

    {{#if (contains skill.name ../data.skillFilter)}}
    {{#if skill.data.hasChildren.value}}

    <div class="skills-header grid grid-7col">
        <a class="skillItem skill-group item-descr" data-name="{{skill.name}}" data-item-descr="{{skill.data.description.value}}" title="Skill Use: {{skill.data.skillUse.value}}">{{skill.name}}</a>
        <span class="skillItem" ></span>
        <span class="skillItem" ></span>
        <span class="skillItem" ></span>
        <span class="skillItem" ></span>
        <a class="skillItem item-edit" title="Edit Skill" data-item-id="{{skill._id}}"></a>
        <a class="skillItem item-delete" title="Delete Skill" data-item-id="{{skill._id}}"></a>

    </div>
    <div class="skills-header flexrow">
        <span class="skillItem gap"></span>


    </div>
    {{#each ../actor.skills as |spec a|}}
    

    {{#if (compareString skill.name spec.data.parent.value)}}
    <div class="skills-header grid grid-7col">
        <a class="skillSubItem item-descr" data-name="{{skill.name}}" data-item-descr="{{skill.data.description.value}}" title="Skill Use: {{skill.data.skillUse.value}}">{{spec.name}}</a>
        <select data-item-id="{{spec._id}}" class="skillItem skill-char" name="spec.data.characteristic.value">
            {{#select spec.data.characteristic.value}}
            <option value="ws">WS</option>
            <option value="bs">BS</option>
            <option value="s">S</option>
            <option value="t">T</option>
            <option value="agi">AGI</option>
            <option value="int">INT</option>
            <option value="per">PER</option>
            <option value="wp">WP</option>
            <option value="fel">FEL</option>
            {{/select}}
        </select>
        <select  data-item-id="{{spec._id}}" class="skillItem skill-adv">
            {{#select spec.data.value}}
            <option value="-20">Untrained</option>
            <option value="0">Known</option>
            <option value="10">Trained</option>
            <option value="20">Experienced</option>
            <option value="30">Veteran</option>
            {{/select}}
        </select>
        <input data-item-id="{{spec._id}}" class="skillItem item-text-input" type="text" data-target="data.mod.value" value="{{spec.data.mod.value}}" data-dtype="Number"/>

        <span data-item-id="{{spec._id}}" class="rollable skillItem button" data-roll-type="skill" data-target="{{spec.data.total.value}}" data-label="{{spec.name}}" data-char="{{spec.data.characteristic.value}}">{{spec.data.total.value}}</span>
        <a class="skillItem item-edit" title="Edit Skill" data-item-id="{{spec._id}}"></a>
        <a class="skillItem item-delete" title="Delete Skill" data-item-id="{{spec._id}}"></a>

    </div>
    {{/if}}
    {{/each}}

    <div class="skills-header flexrow">
        <span class="skillItem gap"></span>


    </div>
    {{else if (compareString skill.data.parent.value)}}
    <div class="skills-header grid grid-7col">
        
        <a class="skillItem item-descr" data-name="{{skill.name}}" data-item-descr="{{skill.data.description.value}}" title="Skill Use: {{skill.data.skillUse.value}}">{{skill.name}}</a>
        <select  data-item-id="{{skill._id}}" class="skillItem skill-char">
            {{#select skill.data.characteristic.value}}
            <option value="ws">WS</option>
            <option value="bs">BS</option>
            <option value="s">S</option>
            <option value="t">T</option>
            <option value="agi">AGI</option>
            <option value="int">INT</option>
            <option value="per">PER</option>
            <option value="wp">WP</option>
            <option value="fel">FEL</option>
            {{/select}}
        </select>
        <select data-item-id="{{skill._id}}" class="skillItem skill-adv">
            {{#select skill.data.value}}
            <option value="-20">Untrained</option>
            <option value="0">Known</option>
            <option value="10">Trained</option>
            <option value="20">Experienced</option>
            <option value="30">Veteran</option>
            {{/select}}
        </select>
        <input data-item-id="{{skill._id}}" class="skillItem item-text-input" data-target="data.mod.value" type="text" value="{{skill.data.mod.value}}" data-dtype="Number"/>

        <span class="rollable skillItem button" data-roll-type="skill" data-target="{{skill.data.total.value}}" data-label="{{skill.name}}" data-char="{{skill.data.characteristic.value}}" >{{skill.data.total.value}}</span>
        <a class="skillItem item-edit" title="Edit Skill" data-item-id="{{skill._id}}"></a>
        <a class="skillItem item-delete" title="Delete Skill" data-item-id="{{skill._id}}"></a>

    </div>
    {{/if}}
    {{/if}}
    {{/each}}
</div>
