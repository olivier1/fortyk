<div class="flexrow mechlab-wrapper">
    <div class="left-mechbay">
        <div>
            <img class="knight-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}"/>
            <div class="flexcol">
                <span class="descrSpan">Name:</span>
                <input type="text" class="combat-resources" data-target="name" value="{{actor.name}}" data-dtype="String"/>

            </div>
            <div class="flexcol">
                <span class="descrSpan">Chassis:</span>

                {{#if system.knight.chassis}}
                <div class="flexrow-nowrap">

                    <span class="descrSpan">{{system.chassis.name}}</span>
                    {{#if isGM}}
                    <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.chassis}}"></a>
                    <a class="list-button delete-chassis" title="Delete" data-item-id="{{system.knight.chassis}}"></a>
                    {{/if}}
                </div>
                {{else}}
                <a class="pick-chassis button" title="Pick Chassis">Select a Chassis</a>
                {{/if}}


            </div>
            <div class="flexcol">
                <span class="descrSpan">Machine Spirit:</span>

                {{#if system.knight.spirit}}
                <div class="flexrow-nowrap">

                    <span class="descrSpan">{{system.spirit.name}}</span>
                    {{#if isGM}}
                    <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.spirit}}"></a>
                    <a class="list-button delete-spirit" title="Delete" data-item-id="{{system.knight.spirit}}"></a>
                    {{/if}}
                </div>
                {{else}}
                <a class="pick-spirit button" title="Pick Machine Spirit">Select a Machine Spirit</a>
                {{/if}}


            </div>
            <div class="flexcol">
                <span class="descrSpan">House:</span>

                <select class="houseSelect" name="system.knight.house" data-dtype="String">
                    <option value="">Select a House</option>
                    {{selectOptions houses selected=system.knight.house valueAttr="id" labelAttr="name"}}

                </select>

            </div>
            <div class="flexcol">
                <span class="descrSpan">Pilot:</span>

                <select class="pilotSelect" name="system.crew.pilotID" data-dtype="String">
                    <option value="">Select a Pilot</option>

                    {{selectOptions pilots selected=system.crew.pilotID valueAttr="id" labelAttr="name"}}

                </select>

            </div>
        </div>
        {{#if house}}
        <div class="flexcol">
            <nav class="mechTabs tabs grid grid-3col" data-group="secondary">

                <a class="item mechBat {{#if (compareString mechtab 'all')}}active2{{/if}}" data-tab="all">All</a>
                <a class="item mechBat {{#if (compareString mechtab 'weapons')}}active2{{/if}}" data-tab="weapons">Weapons</a>
                <a class="item mechBat {{#if (compareString mechtab 'components')}}active2{{/if}}" data-tab="components">Components</a>
                <a class="item mechBat {{#if (compareString mechtab 'cores')}}active2{{/if}}" data-tab="cores">Cores</a>

                <a class="item mechBat {{#if (compareString mechtab 'structures')}}active2{{/if}}" data-tab="structures">Structures</a>
                <a class="item mechBat {{#if (compareString mechtab 'armors')}}active2{{/if}}" data-tab="armors">Armors</a>




            </nav>
            <div id="mechInventory">
                <div class="mechTab all" name="mechInventoryTab" {{#unless (compareString mechtab 'all')}}style="display: none"{{/unless}} data-group="secondary" data-tab="all">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header-last">Space</span>
                        <a class="mechbay-grid-section ranged list-item-header4" name="rangedWeapons1"><span class="{{#unless rangedWeapons1}}plus-button{{else}}minus-button{{/unless}}"></span>Ranged Weapons</a>
                        {{#each rangedWeapons}}
                        <span class="list-item mechbay-component rangedWeapons1" {{#unless ../rangedWeapons1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="ranged-slot">{{this.name}}</span>
                        <span class="list-item rangedWeapons1" {{#unless ../rangedWeapons1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item rangedWeapons1" {{#unless ../rangedWeapons1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item rangedWeapons1" {{#unless ../rangedWeapons1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section artillery list-item-header4" name="artilleryWeapons1"><span class="{{#unless artilleryWeapons1}}plus-button{{else}}minus-button{{/unless}}"></span>Artillery Weapons</a>
                        {{#each artilleryWeapons}}
                        <span class="list-item mechbay-component artilleryWeapons1"{{#unless ../artilleryWeapons1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="artillery-slot">{{this.name}}</span>
                        <span class="list-item artilleryWeapons1" {{#unless ../artilleryWeapons1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item artilleryWeapons1" {{#unless ../artilleryWeapons1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item artilleryWeapons1" {{#unless ../artilleryWeapons1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section other-component-color list-item-header4"  name="ammunitions1"><span class="{{#unless ammunitions1}}plus-button{{else}}minus-button{{/unless}}"></span>Ammunition</a>
                        {{#each ammunition}}
                        <span class="list-item mechbay-component ammunitions1" {{#unless ../ammunitions1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="other-slot">{{this.name}}</span>
                        <span class="list-item ammunitions1" {{#unless ../ammunitions1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item ammunitions1" {{#unless ../ammunitions1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item ammunitions1" {{#unless ../ammunitions1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section melee list-item-header4" name="meleeWeapons1"><span class="{{#unless meleeWeapons1}}plus-button{{else}}minus-button{{/unless}}"></span>Melee Weapons</a>
                        {{#each meleeWeapons}}

                        <span class="list-item mechbay-component meleeWeapons1" {{#unless ../meleeWeapons1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="melee-slot">{{this.name}}</span>
                        <span class="list-item meleeWeapons1" {{#unless ../meleeWeapons1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item meleeWeapons1" {{#unless ../meleeWeapons1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item meleeWeapons1" {{#unless ../meleeWeapons1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section auxiliary list-item-header4" name="auxiliaryWeapons1"><span class="{{#unless auxiliaryWeapons1}}plus-button{{else}}minus-button{{/unless}}"></span>Auxiliary Weapons</a>
                        {{#each auxiliaryWeapons}}
                        <span class="list-item mechbay-component auxiliaryWeapons1" {{#unless ../auxiliaryWeapons1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="auxiliary-slot">{{this.name}}</span>
                        <span class="list-item auxiliaryWeapons1" {{#unless ../auxiliaryWeapons1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item auxiliaryWeapons1" {{#unless ../auxiliaryWeapons1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item auxiliaryWeapons1" {{#unless ../auxiliaryWeapons1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section other-component-color list-item-header4" name="components1"><span class="{{#unless components1}}plus-button{{else}}minus-button{{/unless}}"></span>Components</a>
                        {{#each components}}

                        <span class="list-item mechbay-component components1"  {{#unless ../components1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="{{toLowerCase this.system.type.value}}-slot">{{this.name}}</span>
                        <span class="list-item components1" {{#unless ../components1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item components1" {{#unless ../components1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item components1" {{#unless ../components1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section core-color list-item-header4" name="cores1"><span class="{{#unless cores1}}plus-button{{else}}minus-button{{/unless}}"></span>Cores</a>
                        {{#each cores}}
                        <span class="list-item mechbay-component cores1" {{#unless ../cores1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="core-slot">{{this.name}}</span>
                        <span class="list-item cores1" {{#unless ../cores1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item cores1" {{#unless ../cores1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item cores1" {{#unless ../cores1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section armor-color list-item-header4" name="armors1"><span class="{{#unless armors1}}plus-button{{else}}minus-button{{/unless}}"></span>Armors</a>
                        {{#each armors}}
                        <span class="list-item mechbay-component armors1" {{#unless ../armors1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="armor-slot">{{this.name}}</span>
                        <span class="list-item armors1" {{#unless ../armors1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item armors1" {{#unless ../armors1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item armors1" {{#unless ../armors1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section structure-color list-item-header4" name="structures1"><span class="{{#unless structures1}}plus-button{{else}}minus-button{{/unless}}"></span>Structures</a>
                        {{#each structures}}
                        <span class="list-item mechbay-component structures1" {{#unless ../structures1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="structure-slot">{{this.name}}</span>
                        <span class="list-item structures1" {{#unless ../structures1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item structures1" {{#unless ../structures1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item structures1" {{#unless ../structures1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section forceField-color list-item-header4" name="forceFields1"><span class="{{#unless forceFields1}}plus-button{{else}}minus-button{{/unless}}"></span>Force Fields</a>
                        {{#each forceFields}}
                        <span class="list-item mechbay-component forceFields1" {{#unless ../forceFields1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="forceField-slot">{{this.name}}</span>
                        <span class="list-item forceFields1" {{#unless ../forceFields1}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item forceFields1" {{#unless ../forceFields1}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item forceFields1" {{#unless ../forceFields1}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>

                </div>
                <div class="mechTab weapons" name="mechInventoryTab" {{#unless (compareString mechtab 'weapons')}}style="display: none"{{/unless}} data-group="secondary" data-tab="weapons">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header">Space</span>
                        <a class="mechbay-grid-section ranged list-item-header4" name="rangedWeapons2"><span class="{{#unless rangedWeapons2}}plus-button{{else}}minus-button{{/unless}}"></span>Ranged Weapons</a>
                        {{#each rangedWeapons}}
                        <span class="list-item mechbay-component rangedWeapons2" {{#unless ../rangedWeapons2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="ranged-slot">{{this.name}}</span>
                        <span class="list-item rangedWeapons2" {{#unless ../rangedWeapons2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item rangedWeapons2" {{#unless ../rangedWeapons2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item rangedWeapons2" {{#unless ../rangedWeapons2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section artillery list-item-header4" name="artilleryWeapons2"><span class="{{#unless artilleryWeapons2}}plus-button{{else}}minus-button{{/unless}}"></span>Artillery Weapons</a>
                        {{#each artilleryWeapons}}
                        <span class="list-item mechbay-component artilleryWeapons2"{{#unless ../artilleryWeapons2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="artillery-slot">{{this.name}}</span>
                        <span class="list-item artilleryWeapons2" {{#unless ../artilleryWeapons2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item artilleryWeapons2" {{#unless ../artilleryWeapons2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item artilleryWeapons2" {{#unless ../artilleryWeapons2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section other-component-color list-item-header4"  name="ammunitions2"><span class="{{#unless ammunitions2}}plus-button{{else}}minus-button{{/unless}}"></span>Ammunition</a>
                        {{#each ammunition}}
                        <span class="list-item mechbay-component ammunitions2" {{#unless ../ammunitions2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="other-slot">{{this.name}}</span>
                        <span class="list-item ammunitions2" {{#unless ../ammunitions2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item ammunitions2" {{#unless ../ammunitions2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item ammunitions2" {{#unless ../ammunitions2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section melee list-item-header4" name="meleeWeapons2"><span class="{{#unless meleeWeapons2}}plus-button{{else}}minus-button{{/unless}}"></span>Melee Weapons</a>
                        {{#each meleeWeapons}}

                        <span class="list-item mechbay-component meleeWeapons2" {{#unless ../meleeWeapons2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="melee-slot">{{this.name}}</span>
                        <span class="list-item meleeWeapons2" {{#unless ../meleeWeapons2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item meleeWeapons2" {{#unless ../meleeWeapons2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item meleeWeapons2" {{#unless ../meleeWeapons2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section auxiliary list-item-header4" name="auxiliaryWeapons2"><span class="{{#unless auxiliaryWeapons2}}plus-button{{else}}minus-button{{/unless}}"></span>Auxiliary Weapons</a>
                        {{#each auxiliaryWeapons}}
                        <span class="list-item mechbay-component auxiliaryWeapons2" {{#unless ../auxiliaryWeapons2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="auxiliary-slot">{{this.name}}</span>
                        <span class="list-item auxiliaryWeapons2" {{#unless ../auxiliaryWeapons2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item auxiliaryWeapons2" {{#unless ../auxiliaryWeapons2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item auxiliaryWeapons2" {{#unless ../auxiliaryWeapons2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>
                </div>
                <div class="mechTab components" name="mechInventoryTab" {{#unless (compareString mechtab 'components')}}style="display: none"{{/unless}} data-group="secondary" data-tab="components">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header">Space</span>
                        <a class="mechbay-grid-section sensor-color list-item-header4" name="sensors2"><span class="{{#unless sensors2}}plus-button{{else}}minus-button{{/unless}}"></span>Sensors</a>
                        {{#each sensors}}
                        <span class="list-item mechbay-component sensors2" {{#unless ../sensors2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="sensor-slot">{{this.name}}</span>
                        <span class="list-item sensors2" {{#unless ../sensors2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item sensors2" {{#unless ../sensors2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item sensors2" {{#unless ../sensors2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section gyro-color list-item-header4" name="gyros2"><span class="{{#unless gyros2}}plus-button{{else}}minus-button{{/unless}}"></span>Gyros</a>
                        {{#each gyros}}
                        <span class="list-item mechbay-component gyros2" {{#unless ../gyros2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="gyro-slot">{{this.name}}</span>
                        <span class="list-item gyros2" {{#unless ../gyros2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item gyros2" {{#unless ../gyros2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item gyros2" {{#unless ../gyros2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section plating-color list-item-header4" name="platings2"><span class="{{#unless platings2}}plus-button{{else}}minus-button{{/unless}}"></span>Platings</a>
                        {{#each platings}}
                        <span class="list-item mechbay-component platings2" {{#unless ../platings2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="plating-slot">{{this.name}}</span>
                        <span class="list-item platings2" {{#unless ../platings2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item platings2" {{#unless ../platings2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item platings2" {{#unless ../platings2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section core-color list-item-header4" name="coremods2"><span class="{{#unless coremods2}}plus-button{{else}}minus-button{{/unless}}"></span>Core Mods</a>
                        {{#each coreMods}}
                        <span class="list-item mechbay-component coremods2" {{#unless ../coremods2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="core-mod-slot">{{this.name}}</span>
                        <span class="list-item coremods2" {{#unless ../coremods2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item coremods2" {{#unless ../coremods2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item coremods2" {{#unless ../coremods2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section throne-mod-color list-item-header4" name="thronemods2"><span class="{{#unless thronemods2}}plus-button{{else}}minus-button{{/unless}}"></span>Throne Mods</a>
                        {{#each throneMods}}
                        <span class="list-item mechbay-component thronemods2" {{#unless ../thronemods2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="throne-mod-slot">{{this.name}}</span>
                        <span class="list-item thronemods2" {{#unless ../thronemods2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item thronemods2" {{#unless ../thronemods2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item thronemods2" {{#unless ../thronemods2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section arm-actuator-color list-item-header4" name="armActuators2"><span class="{{#unless armActuators2}}plus-button{{else}}minus-button{{/unless}}"></span>Arm Actuators</a>
                        {{#each armActuators}}
                        <span class="list-item mechbay-component armActuators2" {{#unless ../armActuators2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="arm-actuator-slot">{{this.name}}</span>
                        <span class="list-item armActuators2" {{#unless ../armActuators2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item armActuators2" {{#unless ../armActuators2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item armActuators2" {{#unless ../armActuators2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section leg-actuator-color list-item-header4" name="legActuators2"><span class="{{#unless legActuators2}}plus-button{{else}}minus-button{{/unless}}"></span>Leg Actuators</a>
                        {{#each legActuators}}
                        <span class="list-item mechbay-component legActuators2" {{#unless ../legActuators2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="leg-actuator-slot">{{this.name}}</span>
                        <span class="list-item legActuators2" {{#unless ../legActuators2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item legActuators2" {{#unless ../legActuators2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item legActuators2" {{#unless ../legActuators2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section other-component-color list-item-header4" name="others2"><span class="{{#unless others2}}plus-button{{else}}minus-button{{/unless}}"></span>Other Components</a>
                        {{#each others}}
                        <span class="list-item mechbay-component others2" {{#unless ../others2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="other-slot">{{this.name}}</span>
                        <span class="list-item others2" {{#unless ../others2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item others2" {{#unless ../others2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item others2" {{#unless ../others2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>

                </div>
                <div class="mechTab cores" name="mechInventoryTab" {{#unless (compareString mechtab 'cores')}}style="display: none"{{/unless}} data-group="secondary" data-tab="cores">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header">Space</span>
                        <a class="mechbay-grid-section core-color list-item-header4" name="cores2"><span class="{{#unless cores2}}plus-button{{else}}minus-button{{/unless}}"></span>Cores</a>
                        {{#each cores}}
                        <span class="list-item mechbay-component cores2" {{#unless ../cores2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="core-slot">{{this.name}}</span>
                        <span class="list-item cores2" {{#unless ../cores2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item cores2" {{#unless ../cores2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item cores2" {{#unless ../cores2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>
                </div>
                <div class="mechTab armors" name="mechInventoryTab" {{#unless (compareString mechtab 'armors')}}style="display: none"{{/unless}} data-group="secondary" data-tab="armors">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header">Space</span>
                        <a class="mechbay-grid-section armor-color list-item-header4" name="armors2"><span class="{{#unless armors2}}plus-button{{else}}minus-button{{/unless}}"></span>Armors</a>
                        {{#each armors}}
                        <span class="list-item mechbay-component armors2" {{#unless ../armors2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="armor-slot">{{this.name}}</span>
                        <span class="list-item armors2" {{#unless ../armors2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item armors2" {{#unless ../armors2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item armors2" {{#unless ../armors2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                        <a class="mechbay-grid-section forceField-color list-item-header4" name="forceFields2"><span class="{{#unless forceFields2}}plus-button{{else}}minus-button{{/unless}}"></span>Force Fields</a>
                        {{#each forceFields}}
                        <span class="list-item mechbay-component forceFields2" {{#unless ../forceFields1}}style="display: none"{{/unless}} data-id="{{this.id}}" name="forceField-slot">{{this.name}}</span>
                        <span class="list-item forceFields2" {{#unless ../forceFields2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item forceFields2" {{#unless ../forceFields2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item forceFields2" {{#unless ../forceFields2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>

                </div>
                <div class="mechTab structures" name="mechInventoryTab" {{#unless (compareString mechtab 'structures')}}style="display: none"{{/unless}} data-group="secondary" data-tab="structures">
                    <div class="componentgrid">
                        <span class="list-item-header">Name</span>
                        <span class="list-item-header">Avail</span>
                        <span class="list-item-header">Tonnage</span>
                        <span class="list-item-header">Space</span>
                        <a class="mechbay-grid-section structure-color list-item-header4" name="structures2"><span class="{{#unless structures2}}plus-button{{else}}minus-button{{/unless}}"></span>Structures</a>
                        {{#each structures}}
                        <span class="list-item mechbay-component structures2" {{#unless ../structures2}}style="display: none"{{/unless}} data-id="{{this.id}}" name="structure-slot">{{this.name}}</span>
                        <span class="list-item structures2" {{#unless ../structures2}}style="display: none"{{/unless}}>{{this.system.amount.left}}</span>
                        <span class="list-item structures2" {{#unless ../structures2}}style="display: none"{{/unless}}>{{this.system.weight.value}}</span>
                        <span class="list-item structures2" {{#unless ../structures2}}style="display: none"{{/unless}}>{{this.system.space.value}}</span>
                        {{/each}}
                    </div>

                </div>
            </div>

        </div>
        {{/if}}
    </div>
    <div class="right-mechbay flexcol">
        <div class="mechgrid ">
            <div class="info1 mechgrid-child flexcol flex-group-center">

                <div class="flexrow-nowrap">
                    <span>Tactical Speed: {{system.secChar.speed.tactical}}m</span>
                </div>

                <div class="flexrow-nowrap">
                    <span>Stuctural integrity: </span> <input type="text" class="combat-resources" data-target="system.secChar.wounds.value" value="{{system.secChar.wounds.value}}" data-dtype="Number"/>/{{system.secChar.wounds.max}}
                </div>
                <span>Armor: {{system.knight.armorValues.value}}/{{system.knight.armorValues.max}}</span>

            </div>
            <div class="carapace mechgrid-child flex-group-center">
                {{#each carapaceHardPoints.titanicArtillery}}
                {{#if this}}

                <div class="artillery-weapon artillery filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                        
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.carapace.titanicArtillery" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="artillery-slot artillery component-slot" data-facing="front" data-index="{{@index}}" data-path="system.hardPoints.carapace.titanicArtillery">
                    Titanic Artillery Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each carapaceHardPoints.titanicRanged}}
                {{#if this}}

                <div class="ranged-weapon ranged filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                     
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.carapace.titanicRanged" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="ranged-slot ranged component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.carapace.titanicRanged">
                    Titanic Ranged Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each carapaceHardPoints.auxiliary}}
                {{#if this}}

                <div class="auxiliary-weapon auxiliary filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                   
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.carapace.auxiliary" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="auxiliary-slot auxiliary component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.carapace.auxiliary">
                    Auxiliary Slot
                </div>
                {{/if}}
                {{/each}}
            </div>
            <div class="info2 mechgrid-child flexcol flex-group-center">
                <span>Tonnage: {{system.knight.tonnage.value}}/{{system.knight.tonnage.max}}</span>
                <span>Space: {{system.knight.space.value}}/{{system.knight.space.max}}</span>
                <span class="flexrow">Heat: {{system.knight.heat.value}}/{{system.knight.heat.max}}</span>
            </div>
            <div class="left-weapon mechgrid-child flex-group-center">
                {{#each leftArmHardPoints.titanicRanged}}
                {{#if this}}

                <div class="ranged-weapon ranged filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                     
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.leftArm.titanicRanged" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="ranged-slot ranged component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.leftArm.titanicRanged">
                    Titanic Ranged Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each leftArmHardPoints.titanicMelee}}
                {{#if this}}

                <div class="melee-weapon melee filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                        
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.leftArm.titanicMelee" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="melee-slot melee component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.leftArm.titanicMelee">
                    Titanic Melee Slot
                </div>
                {{/if}}
                {{/each}}
                
                {{#each leftArmHardPoints.auxiliary}}
                {{#if this}}

                <div class="auxiliary-weapon auxiliary filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                       
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                        
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.leftArm.auxiliary" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="auxiliary-slot auxiliary component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.leftArm.auxiliary">
                    Auxiliary Slot
                </div>
                {{/if}}
                {{/each}}
            </div>
            
            <div class="torso mechgrid-child flexcol">
                {{#if system.knight.core}}

                <div class="core core-color filled-slot">
                    <input class="item-text-input core-input" type="text" data-target="system.state.value"  value="{{system.knight.core.system.state.value}}" data-item-id="{{system.knight.core.id}}" data-dtype="Number">

                    <span>{{system.knight.core.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.core.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.core.id}}" data-path="system.knight.core"></a>
                    </div>
                </div>
                {{else}}
                <div class="core-slot core-color component-slot" data-index="{{@index}}" data-path="system.knight.core">
                    Core Slot
                </div>
                {{/if}}
                {{#if system.knight.structure}}

                <div class="structure structure-color filled-slot">



                    <span>{{system.knight.structure.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.structure.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.structure.id}}" data-path="system.knight.structure"></a>
                    </div>
                </div>
                {{else}}
                <div class="structure-slot structure-color component-slot" data-index="{{@index}}" data-path="system.knight.structure">
                    Structure Slot
                </div>
                {{/if}}
                {{#if system.knight.armor}}

                <div class="armor armor-color filled-slot">

                    <span>{{system.knight.armor.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.armor.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.armor.id}}" data-path="system.knight.armor" ></a>
                    </div>
                </div>
                {{else}}
                <div class="armor-slot armor-color component-slot" data-index="{{@index}}" data-path="system.knight.armor">
                    Armor Slot
                </div>
                {{/if}}
                {{#if system.knight.forceField}}
                
                <div class="forceField forceField-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.forceField.id}}" data-dtype="Number">
                     
                        {{selectOptions itemStates selected=system.knight.forceField.system.state.value valueAttr="value" labelAttr="value"}}
                        
                    </select>
                    <span>{{system.knight.forceField.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.forceField.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.forceField.id}}" data-path="system.knight.forceField" ></a>
                    </div>
                </div>
                {{else}}
                <div class="forceField-slot forceField-color component-slot" data-index="{{@index}}" data-path="system.knight.forceField">
                    Force Field Slot
                </div>
                {{/if}}
                {{#each torsoHardPoints.titanicRanged}}
                {{#if this}}

                <div class="ranged-weapon ranged filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                      
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.torso.titanicRanged" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="ranged-slot ranged component-slot"  data-facing="lSide" data-index="{{@index}}" data-path="system.hardPoints.torso.titanicRanged">
                    Titanic Ranged Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each torsoHardPoints.auxiliary}}
                {{#if this}}

                <div class="auxiliary-weapon auxiliary filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                      
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.torso.auxiliary"  data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="auxiliary-slot auxiliary component-slot"  data-facing="front" data-index="{{@index}}" data-path="system.hardPoints.torso.auxiliary">
                    Auxiliary Slot
                </div>
                {{/if}}
                {{/each}}
                {{#if system.knight.throneMod}}

                <div class="throne-mod throne-mod-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.throneMod.id}}" data-dtype="Number">


                        {{selectOptions itemStates selected=system.knight.throneMod.system.state.value valueAttr="value" labelAttr="value"}}
                      
                    </select>
                    <span>{{system.knight.throneMod.name}}</span>

                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.throneMod.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.throneMod.id}}" data-path="system.knight.throneMod" ></a>
                    </div>
                </div>
                {{else}}
                <div class="throne-mod-slot throne-mod-color component-slot" data-index="{{@index}}" data-path="system.knight.throneMod">
                    Throne Mod Slot
                </div>
                {{/if}}
                {{#if system.knight.sensor}}

                <div class="sensor sensor-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.sensor.id}}" data-dtype="Number">


                        {{selectOptions itemStates selected=system.knight.sensor.system.state.value valueAttr="value" labelAttr="value"}}
                       
                    </select>
                    <span>{{system.knight.sensor.name}}</span>

                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.sensor.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.sensor.id}}" data-path="system.knight.sensor" ></a>
                    </div>
                </div>
                {{else}}
                <div class="sensor-slot sensor-color component-slot" data-index="{{@index}}" data-path="system.knight.sensor">
                    Sensor Slot
                </div>
                {{/if}}
                {{#if system.knight.gyro}}

                <div class="gyro gyro-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.gyro.id}}" data-dtype="Number">

                        {{selectOptions itemStates selected=system.knight.gyro.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{system.knight.gyro.name}}</span>
                    {{#if isGM}}
                    <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.gyro.id}}"></a>
                    {{/if}}
                    <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.gyro.id}}" data-path="system.knight.gyro" ></a>
                </div>
                {{else}}
                <div class="gyro-slot gyro-color component-slot" data-index="{{@index}}" data-path="system.knight.gyro">
                    Gyro Slot
                </div>
                {{/if}}
                {{#if system.knight.plating}}

                <div class="plating plating-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.plating.id}}" data-dtype="Number">

                        {{selectOptions itemStates selected=system.knight.plating.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{system.knight.plating.name}}</span>

                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.plating.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.plating.id}}" data-path="system.knight.plating" ></a>
                    </div>
                </div>
                {{else}}
                <div class="plating-slot plating-color component-slot" data-index="{{@index}}" data-path="system.knight.plating">
                    Plating Slot
                </div>
                {{/if}}
                {{#if system.knight.coreMod}}

                <div class="core-mod core-mod-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.coreMod.id}}" data-dtype="Number">

                        {{selectOptions itemStates selected=system.knight.coreMod.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{system.knight.coreMod.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.coreMod.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.coreMod.id}}" data-path="system.knight.coreMod" ></a>
                    </div>
                </div>
                {{else}}
                <div class="core-mod-slot core-mod-color component-slot" data-index="{{@index}}" data-path="system.knight.coreMod">
                    Core Mod Slot
                </div>
                {{/if}}
                {{#if system.knight.armActuator}}

                <div class="arm-actuator arm-actuator-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.armActuator.id}}" data-dtype="Number">

                        {{selectOptions itemStates selected=system.knight.armActuator.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{system.knight.armActuator.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.armActuator.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.armActuator.id}}" data-path="system.knight.armActuator" ></a>
                    </div>
                </div>
                {{else}}
                <div class="arm-actuator-slot arm-actuator-color component-slot" data-index="{{@index}}" data-path="system.knight.armActuator">
                    Arm Actuator Slot
                </div>
                {{/if}}
                {{#if system.knight.legActuator}}

                <div class="leg-actuator leg-actuator-color filled-slot">
                    <select class="state"  data-item-id="{{system.knight.legActuator.id}}" data-dtype="Number">

                        {{selectOptions itemStates selected=system.knight.legActuator.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{system.knight.legActuator.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{system.knight.legActuator.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-component" title="Delete" data-item-id="{{system.knight.legActuator.id}}" data-path="system.knight.legActuator" ></a>
                    </div>
                </div>
                {{else}}
                <div class="leg-actuator-slot leg-actuator-color component-slot" data-index="{{@index}}" data-path="system.knight.legActuator">
                    Leg Actuator Slot
                </div>
                {{/if}}

            </div>
            <div class="right-weapon mechgrid-child">
                {{#each rightArmHardPoints.titanicRanged}}
                {{#if this}}

                <div class="ranged-weapon ranged filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                        
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.rightArm.titanicRanged" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="ranged-slot ranged component-slot"  data-facing="rSide" data-index="{{@index}}" data-path="system.hardPoints.rightArm.titanicRanged">
                    Titanic Ranged Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each rightArmHardPoints.titanicMelee}}
                {{#if this}}

                <div class="melee-weapon melee filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.rightArm.titanicMelee" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="melee-slot melee component-slot" data-facing="rSide" data-index="{{@index}}" data-path="system.hardPoints.rightArm.titanicMelee">
                    Titanic Melee Slot
                </div>
                {{/if}}
                {{/each}}
                {{#each rightArmHardPoints.auxiliary}}
                {{#if this}}

                <div class="auxiliary-weapon auxiliary filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-weapon" title="Delete" data-item-id="{{this.id}}" data-path="system.hardPoints.rightArm.auxiliary" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="auxiliary-slot auxiliary component-slot" data-facing="rSide" data-index="{{@index}}" data-path="system.hardPoints.rightArm.auxiliary">
                    Auxiliary Slot
                </div>
                {{/if}}
                {{/each}}
            </div>
            <div class="info3 mechgrid-child">
                <div class="flexrow flex-group-center">
                    <span>Front Armor: </span><input type="text" class="combat-resources" data-target="system.facings.front.armor" value="{{system.facings.front.armor}}" data-dtype="Number"/><span>/{{system.knight.armorValues.sideMax}}</span>
                </div>

                <div class="flexrow flex-group-center">
                    <span>Left Side Armor: </span><input type="text" class="combat-resources" data-target="system.facings.lSide.armor" value="{{system.facings.lSide.armor}}" data-dtype="Number"/><span>{{#if system.facings.lSide.shield}}+{{system.facings.lSide.shield}}{{/if}}/{{system.knight.armorValues.sideMax}}</span>
                </div>

                <div class="flexrow flex-group-center">
                    <span>Right Side Armor: </span> <input type="text" class="combat-resources" data-target="system.facings.rSide.armor" value="{{system.facings.rSide.armor}}" data-dtype="Number"/><span>{{#if system.facings.rSide.shield}}+{{system.facings.rSide.shield}}{{/if}}/{{system.knight.armorValues.sideMax}}</span>
                </div>

                <div class="flexrow flex-group-center">
                    <span>Rear Armor: </span><input type="text" class="combat-resources" data-target="system.facings.rear.armor" value="{{system.facings.rear.armor}}" data-dtype="Number"/><span>/{{system.knight.armorValues.sideMax}}</span>
                </div>
                <div class="flexrow flex-group-center">
                    <span>Armor Weight: {{system.knight.tonnage.armor}}</span>
                </div>
            </div>
            <div class="info4 mechgrid-child">
                {{#each system.knight.instancedComponents}}


                {{#if this}}

                <div class="other-component other-component-color filled-slot">
                    <select class="state"  data-item-id="{{this.id}}" data-dtype="Number">
                        {{selectOptions FORTYK.itemStates selected=this.system.state.value valueAttr="value" labelAttr="value"}}
                    </select>
                    <span>{{this.name}}</span>
                    <div class="flexrow-nowrap">
                        {{#if ../isGM}}
                        <a class="list-button item-edit" title="Edit" data-item-id="{{this.id}}"></a>
                        {{/if}}
                        <a class="list-button delete-other-component" title="Delete" data-item-id="{{this.id}}" data-path="system.knight.components" data-index="{{@index}}"></a>
                    </div>
                </div>
                {{else}}
                <div class="other-slot other-component-color component-slot" data-index="{{@index}}" data-path="system.knight.components">
                    Component Slot
                </div>
                {{/if}}
                {{/each}}
            </div>
        </div>
    </div>

</div>
